{% extends 'base.html' %}
{% load static %}

{% block title %}Login da Empresa - {{ company_slug|title }}{% endblock %}

{% block body_class %}login-page{% endblock %}

{% block content %}
    <div class="side-by-side-layout">
        <!-- Lado esquerdo - Informações -->
        <div class="info-side">
            <div class="info-content">
                <div class="info-container">
                    <h1 class="main-title">
                        <span class="title-highlight">Inovação</span> para<br>
                        conquistar<br>
                        <span class="title-highlight">resultados</span>
                    </h1>
                    <p class="main-subtitle">Verificador de viabilidade com mapas CTO</p>

                    <div class="compact-features">
                        <div class="compact-feature">
                            <h4>Precisão de análise</h4>
                            <p>Valida mapas CTO com regras consistentes.</p>
                        </div>
                        <div class="compact-feature">
                            <h4>Relatórios rápidos</h4>
                            <p>Resumo executivo em segundos.</p>
                        </div>
                        <div class="compact-feature">
                            <h4>Integração simples</h4>
                            <p>Upload direto e histórico centralizado.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lado direito - Formulário de login -->
        <div class="login-side">
            <div class="login-card">
                <div class="logo-container">
                    <img src="{% static 'img/logo_letreiro.png' %}" alt="RM Systems" class="dashboard-logo" />
                </div>
                <h2 class="card-title">Acesse sua conta</h2>
                {% if company_slug %}
                    <p class="text-muted mb-2">Empresa: <strong>{{ company_slug }}</strong></p>
                {% endif %}

                {% if messages %}
                    <ul class="messages">
                        {% for message in messages %}
                            <li class="{{ message.tags }}">{{ message }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}

                <form method="post" class="form" id="loginForm" data-step="1">
                    {% csrf_token %}
                    <div class="form-row" id="rowEmail">
                        <label for="id_username">E-mail ou usuário</label>
                        <input type="text" name="username" id="id_username" placeholder="email@exemplo.com ou usuário" required autocomplete="username">
                    </div>

                    <div class="form-row" id="rowPassword" style="display:none">
                        <label for="id_password">Senha</label>
                        <input type="password" name="password" id="id_password" autocomplete="current-password">
                    </div>

                    <div class="remember">
                        <input type="checkbox" id="rememberEmail" name="remember">
                        <label for="rememberEmail">Lembrar e-mail</label>
                    </div>

                    <button type="submit" class="btn primary full-width" id="actionBtn">Continuar</button>
                </form>

                <div class="footer-links">
                    <a href="/rm/login/">Entrar como RM</a>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/login-pages.css' %}">
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/login.js' %}"></script>
{% endblock %}